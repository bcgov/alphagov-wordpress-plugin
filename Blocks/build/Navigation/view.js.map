{"version":3,"file":"Navigation/view.js","mappings":"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","sources":["webpack://design-system-navigation-block/./src/Navigation/view.js"],"sourcesContent":["/**\n * Navigation Block Frontend JavaScript\n *\n * Handles the interactive functionality of the navigation block including:\n * - Mobile menu toggling\n * - Submenu handling\n * - Responsive behavior\n * - Keyboard navigation\n * - Position adjustments for nested menus\n *\n * @since 1.0.0\n */\n\ndocument.addEventListener( 'DOMContentLoaded', function () {\n\t// Select all navigation blocks that can have overlay behavior\n\tconst navBlocks = document.querySelectorAll(\n\t\t'.dswp-block-navigation-is-mobile-overlay, ' +\n\t\t\t'.dswp-block-navigation-is-always-overlay, ' +\n\t\t\t'.dswp-block-navigation-is-never-overlay'\n\t);\n\n\tnavBlocks.forEach( ( nav ) => {\n\t\t// Cache frequently used DOM elements\n\t\tconst elements = {\n\t\t\tmobileNavIcon: nav.querySelector( '.dswp-nav-mobile-toggle-icon' ),\n\t\t\tmenuContainer: nav.querySelector(\n\t\t\t\t'.dswp-block-navigation__container'\n\t\t\t),\n\t\t\ticonText: nav.querySelector( '.dswp-nav-mobile-menu-icon-text' ),\n\t\t\ttopBar: nav.querySelector( '.dswp-nav-mobile-menu-top-bar' ),\n\t\t\tmiddleBar: nav.querySelector( '.dswp-nav-mobile-menu-middle-bar' ),\n\t\t\tbottomBar: nav.querySelector( '.dswp-nav-mobile-menu-bottom-bar' ),\n\t\t};\n\n\t\t// Initialize state flags\n\t\tconst isMobileMode = nav.classList.contains(\n\t\t\t'dswp-block-navigation-is-mobile-overlay'\n\t\t);\n\t\tconst isAlwaysMode = nav.classList.contains(\n\t\t\t'dswp-block-navigation-is-always-overlay'\n\t\t);\n\n\t\t/**\n\t\t * Menu State Management Functions\n\t\t */\n\n\t\t/**\n\t\t * Closes all open submenus within the navigation\n\t\t */\n\t\tfunction closeAllSubmenus() {\n\t\t\tconst openSubmenus = nav.querySelectorAll(\n\t\t\t\t'.wp-block-navigation-submenu.is-open'\n\t\t\t);\n\t\t\topenSubmenus.forEach( ( submenu ) => {\n\t\t\t\tsubmenu.classList.remove( 'is-open' );\n\t\t\t\tconst submenuContainer = submenu.querySelector(\n\t\t\t\t\t'.wp-block-navigation__submenu-container'\n\t\t\t\t);\n\t\t\t\tconst submenuButton = submenu.querySelector(\n\t\t\t\t\t'.dswp-submenu-toggle'\n\t\t\t\t);\n\t\t\t\tif ( submenuContainer ) {\n\t\t\t\t\tsubmenuContainer.classList.remove( 'is-open' );\n\t\t\t\t}\n\t\t\t\tif ( submenuButton ) {\n\t\t\t\t\tsubmenuButton.setAttribute( 'aria-expanded', 'false' );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\t/**\n\t\t * Resets the mobile menu to its default state\n\t\t */\n\t\tfunction resetMenuState() {\n\t\t\tif ( elements.iconText ) {\n\t\t\t\telements.iconText.innerText = 'Menu';\n\t\t\t}\n\t\t\tif ( elements.topBar ) {\n\t\t\t\telements.topBar.classList.remove(\n\t\t\t\t\t'dswp-nav-mobile-menu-top-bar-open'\n\t\t\t\t);\n\t\t\t}\n\t\t\tif ( elements.middleBar ) {\n\t\t\t\telements.middleBar.classList.remove(\n\t\t\t\t\t'dswp-nav-mobile-menu-middle-bar-open'\n\t\t\t\t);\n\t\t\t}\n\t\t\tif ( elements.bottomBar ) {\n\t\t\t\telements.bottomBar.classList.remove(\n\t\t\t\t\t'dswp-nav-mobile-menu-bottom-bar-open'\n\t\t\t\t);\n\t\t\t}\n\t\t\telements.mobileNavIcon.setAttribute( 'aria-expanded', 'false' );\n\t\t}\n\n\t\t/**\n\t\t * Resets all submenu arrow rotations to their default state\n\t\t */\n\t\tfunction resetArrowRotations() {\n\t\t\tconst allArrows = nav.querySelectorAll( '.dswp-submenu-toggle' );\n\t\t\tallArrows.forEach( ( arrow ) => {\n\t\t\t\tarrow.setAttribute( 'aria-expanded', 'false' );\n\t\t\t} );\n\t\t}\n\n\t\t/**\n\t\t * Event Handlers\n\t\t */\n\n\t\t/**\n\t\t * Handles responsive behavior when window is resized\n\t\t */\n\t\tfunction handleResize() {\n\t\t\tif ( ! isMobileMode ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst breakpoint = parseInt( nav.dataset.dswpMobileBreakpoint );\n\t\t\tconst isMobileView = window.innerWidth <= ( breakpoint || 768 );\n\t\t\tconst wasMobileView =\n\t\t\t\telements.menuContainer.classList.contains( 'dswp-is-mobile' );\n\n\t\t\t// Only run logic if we're actually switching between views\n\t\t\tif ( isMobileView !== wasMobileView ) {\n\t\t\t\tcloseAllSubmenus();\n\n\t\t\t\t// Reset mobile menu state if switching from mobile to desktop\n\t\t\t\tif ( ! isMobileView ) {\n\t\t\t\t\telements.menuContainer.classList.remove( 'is-menu-open' );\n\t\t\t\t\telements.menuContainer.style.display = 'flex';\n\t\t\t\t\tresetMenuState();\n\t\t\t\t}\n\n\t\t\t\t// Update mobile classes and display\n\t\t\t\telements.mobileNavIcon.style.display = isMobileView\n\t\t\t\t\t? 'flex'\n\t\t\t\t\t: 'none';\n\t\t\t\telements.menuContainer.classList.toggle(\n\t\t\t\t\t'dswp-is-mobile',\n\t\t\t\t\tisMobileView\n\t\t\t\t);\n\t\t\t\tif (\n\t\t\t\t\tisMobileView &&\n\t\t\t\t\t! elements.menuContainer.classList.contains(\n\t\t\t\t\t\t'is-menu-open'\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\telements.menuContainer.style.display = 'none';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Position & Layout Functions\n\t\t */\n\n\t\t/**\n\t\t * Adjusts the position of submenus to ensure they remain visible within viewport\n\t\t * @param {HTMLElement} submenu - The submenu element to position\n\t\t */\n\t\tfunction adjustSubmenuPosition( submenu ) {\n\t\t\tconst submenuContainer = submenu.querySelector(\n\t\t\t\t'.wp-block-navigation__submenu-container'\n\t\t\t);\n\t\t\tif ( ! submenuContainer ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst level = getSubmenuLevel( submenu );\n\n\t\t\t// Reset position first\n\t\t\tif ( level === 1 ) {\n\t\t\t\tsubmenuContainer.style.left = '0%';\n\t\t\t\tsubmenuContainer.style.right = 'auto';\n\t\t\t} else if ( level >= 2 ) {\n\t\t\t\tsubmenuContainer.style.left = '100%';\n\t\t\t\tsubmenuContainer.style.right = 'auto';\n\t\t\t}\n\n\t\t\t// Check viewport boundaries\n\t\t\tconst rect = submenuContainer.getBoundingClientRect();\n\t\t\tconst viewportWidth = window.innerWidth;\n\n\t\t\tif ( level === 1 && rect.right > viewportWidth ) {\n\t\t\t\tsubmenuContainer.style.left = 'auto';\n\t\t\t\tsubmenuContainer.style.right = '0%';\n\t\t\t} else if ( level >= 2 && rect.right > viewportWidth ) {\n\t\t\t\tsubmenuContainer.style.left = 'auto';\n\t\t\t\tsubmenuContainer.style.right = '100%';\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Determines the nesting level of a submenu\n\t\t * @param {HTMLElement} submenu - The submenu element to check\n\t\t * @return {number} The nesting level (1-based)\n\t\t */\n\t\tfunction getSubmenuLevel( submenu ) {\n\t\t\tlet level = 1;\n\t\t\tlet parent = submenu.parentElement;\n\t\t\twhile ( parent ) {\n\t\t\t\tif (\n\t\t\t\t\tparent.classList.contains( 'wp-block-navigation-submenu' )\n\t\t\t\t) {\n\t\t\t\t\tlevel++;\n\t\t\t\t}\n\t\t\t\tparent = parent.parentElement;\n\t\t\t}\n\t\t\treturn level;\n\t\t}\n\n\t\t/**\n\t\t * Determines the nesting level of a submenu and adds appropriate classes\n\t\t * @param {HTMLElement} submenu - The submenu element to check\n\t\t */\n\t\tfunction initializeSubmenuLevel( submenu ) {\n\t\t\tlet level = 1;\n\t\t\tlet parent = submenu.parentElement;\n\t\t\twhile ( parent ) {\n\t\t\t\tif (\n\t\t\t\t\tparent.classList.contains( 'wp-block-navigation-submenu' )\n\t\t\t\t) {\n\t\t\t\t\tlevel++;\n\t\t\t\t}\n\t\t\t\tparent = parent.parentElement;\n\t\t\t}\n\t\t\treturn level;\n\t\t}\n\n\t\t/**\n\t\t * Initialization\n\t\t */\n\n\t\t// Set initial states\n\t\tif (\n\t\t\tisAlwaysMode ||\n\t\t\tnav.classList.contains( 'dswp-block-navigation-is-mobile-only' )\n\t\t) {\n\t\t\telements.mobileNavIcon.style.display = 'flex';\n\t\t\telements.menuContainer.style.display = 'none';\n\t\t\telements.menuContainer.classList.add( 'dswp-is-mobile' );\n\t\t} else if ( isMobileMode ) {\n\t\t\thandleResize();\n\t\t}\n\n\t\t// Event Listeners\n\t\tif ( isMobileMode ) {\n\t\t\twindow.addEventListener( 'resize', handleResize );\n\t\t}\n\n\t\t// Mobile menu toggle functionality\n\t\tif ( elements.mobileNavIcon ) {\n\t\t\telements.mobileNavIcon.addEventListener( 'click', function () {\n\t\t\t\telements.menuContainer.classList.toggle( 'is-menu-open' );\n\t\t\t\tconst isOpen =\n\t\t\t\t\telements.menuContainer.classList.contains( 'is-menu-open' );\n\n\t\t\t\telements.mobileNavIcon.setAttribute(\n\t\t\t\t\t'aria-expanded',\n\t\t\t\t\tisOpen.toString()\n\t\t\t\t);\n\n\t\t\t\t// Toggle hamburger animation\n\t\t\t\telements.topBar.classList.toggle(\n\t\t\t\t\t'dswp-nav-mobile-menu-top-bar-open'\n\t\t\t\t);\n\t\t\t\telements.middleBar.classList.toggle(\n\t\t\t\t\t'dswp-nav-mobile-menu-middle-bar-open'\n\t\t\t\t);\n\t\t\t\tif ( elements.bottomBar ) {\n\t\t\t\t\telements.bottomBar.classList.toggle(\n\t\t\t\t\t\t'dswp-nav-mobile-menu-bottom-bar-open'\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\telements.iconText.innerText = isOpen ? 'Close menu' : 'Menu';\n\t\t\t\telements.menuContainer.style.display = isOpen ? 'grid' : 'none';\n\n\t\t\t\tif ( ! isOpen ) {\n\t\t\t\t\tcloseAllSubmenus();\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\t// Close menu when clicking outside\n\t\tdocument.addEventListener( 'click', function ( event ) {\n\t\t\tconst isClickInside = nav.contains( event.target );\n\t\t\tconst isMobileView =\n\t\t\t\twindow.innerWidth <=\n\t\t\t\t( parseInt( nav.dataset.dswpMobileBreakpoint ) || 768 );\n\n\t\t\t// Close submenus if click is outside and we're in desktop mode\n\t\t\tif ( ! isClickInside ) {\n\t\t\t\tif (\n\t\t\t\t\tisMobileView &&\n\t\t\t\t\telements.menuContainer.classList.contains( 'is-menu-open' )\n\t\t\t\t) {\n\t\t\t\t\t// Mobile mode - close everything\n\t\t\t\t\telements.menuContainer.classList.remove( 'is-menu-open' );\n\t\t\t\t\telements.menuContainer.style.display = 'none';\n\t\t\t\t\tresetMenuState();\n\t\t\t\t\tcloseAllSubmenus();\n\t\t\t\t} else if ( ! isMobileView ) {\n\t\t\t\t\t// Desktop mode - only close submenus\n\t\t\t\t\tcloseAllSubmenus();\n\t\t\t\t\tresetArrowRotations( nav );\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\n\t\t// Handle escape key\n\t\tdocument.addEventListener( 'keydown', function ( event ) {\n\t\t\tif ( event.key === 'Escape' ) {\n\t\t\t\tif (\n\t\t\t\t\telements.menuContainer.classList.contains( 'is-menu-open' )\n\t\t\t\t) {\n\t\t\t\t\telements.menuContainer.classList.remove( 'is-menu-open' );\n\t\t\t\t\telements.menuContainer.style.display = 'none';\n\t\t\t\t\tresetMenuState();\n\t\t\t\t}\n\t\t\t\tcloseAllSubmenus();\n\t\t\t\tresetArrowRotations( nav );\n\t\t\t}\n\t\t} );\n\n\t\t// Initialize submenu functionality\n\t\tconst submenuLinks = nav.querySelectorAll(\n\t\t\t'.wp-block-navigation-submenu > .wp-block-navigation-item__content'\n\t\t);\n\t\tsubmenuLinks.forEach( ( link ) => {\n\t\t\tconst submenu = link.closest( '.wp-block-navigation-submenu' );\n\t\t\tconst hasSubmenu = submenu?.querySelector(\n\t\t\t\t'.wp-block-navigation__submenu-container'\n\t\t\t);\n\n\t\t\tif ( hasSubmenu ) {\n\t\t\t\t// Add level class to submenu\n\t\t\t\tinitializeSubmenuLevel( submenu );\n\n\t\t\t\t// Create submenu toggle button\n\t\t\t\tconst arrowButton = document.createElement( 'button' );\n\t\t\t\tarrowButton.className = 'dswp-submenu-toggle';\n\t\t\t\tarrowButton.setAttribute( 'aria-expanded', 'false' );\n\t\t\t\tarrowButton.setAttribute( 'aria-label', 'Toggle submenu' );\n\t\t\t\tlink.parentNode.insertBefore( arrowButton, link.nextSibling );\n\n\t\t\t\t// Handle submenu toggle\n\t\t\t\tarrowButton.addEventListener( 'click', () => {\n\t\t\t\t\tconst submenuContainer = submenu.querySelector(\n\t\t\t\t\t\t'.wp-block-navigation__submenu-container'\n\t\t\t\t\t);\n\t\t\t\t\tconst isOpen = submenu.classList.contains( 'is-open' );\n\n\t\t\t\t\t// Close other submenus\n\t\t\t\t\tconst currentPath = [];\n\t\t\t\t\tlet parent = submenu;\n\t\t\t\t\twhile ( parent ) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tparent.classList.contains(\n\t\t\t\t\t\t\t\t'wp-block-navigation-submenu'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tcurrentPath.push( parent );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tparent = parent.parentElement.closest(\n\t\t\t\t\t\t\t'.wp-block-navigation-submenu'\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tnav.querySelectorAll(\n\t\t\t\t\t\t'.wp-block-navigation-submenu.is-open'\n\t\t\t\t\t).forEach( ( openSubmenu ) => {\n\t\t\t\t\t\tif ( ! currentPath.includes( openSubmenu ) ) {\n\t\t\t\t\t\t\topenSubmenu.classList.remove( 'is-open' );\n\t\t\t\t\t\t\tconst container = openSubmenu.querySelector(\n\t\t\t\t\t\t\t\t'.wp-block-navigation__submenu-container'\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tconst button = openSubmenu.querySelector(\n\t\t\t\t\t\t\t\t'.dswp-submenu-toggle'\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif ( container ) {\n\t\t\t\t\t\t\t\tcontainer.classList.remove( 'is-open' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif ( button ) {\n\t\t\t\t\t\t\t\tbutton.setAttribute( 'aria-expanded', 'false' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\n\t\t\t\t\t// Toggle current submenu\n\t\t\t\t\tsubmenu.classList.toggle( 'is-open' );\n\t\t\t\t\tif ( submenuContainer ) {\n\t\t\t\t\t\tsubmenuContainer.classList.toggle( 'is-open' );\n\n\t\t\t\t\t\tconst level = getSubmenuLevel( submenu );\n\t\t\t\t\t\tif ( level >= 2 ) {\n\t\t\t\t\t\t\tadjustSubmenuPosition( submenu );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Watch for size changes\n\t\t\t\t\t\tconst resizeObserver = createObserver( submenu, () => {\n\t\t\t\t\t\t\tif ( submenu.classList.contains( 'is-open' ) ) {\n\t\t\t\t\t\t\t\tadjustSubmenuPosition( submenu );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t\tresizeObserver.observe( document.body );\n\n\t\t\t\t\t\tconst cleanup = () => {\n\t\t\t\t\t\t\tif ( ! submenu.classList.contains( 'is-open' ) ) {\n\t\t\t\t\t\t\t\tresizeObserver.disconnect();\n\t\t\t\t\t\t\t\tsubmenu.removeEventListener(\n\t\t\t\t\t\t\t\t\t'classChange',\n\t\t\t\t\t\t\t\t\tcleanup\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tsubmenu.addEventListener( 'classChange', cleanup );\n\t\t\t\t\t}\n\n\t\t\t\t\tarrowButton.setAttribute(\n\t\t\t\t\t\t'aria-expanded',\n\t\t\t\t\t\t( ! isOpen ).toString()\n\t\t\t\t\t);\n\t\t\t\t} );\n\t\t\t}\n\t\t} );\n\t} );\n} );\n\n// Check if ResizeObserver is supported and create a fallback\nconst createObserver = ( submenu, callback ) => {\n\tif ( typeof window !== 'undefined' && 'ResizeObserver' in window ) {\n\t\treturn new window.ResizeObserver( callback );\n\t}\n\n\t// Fallback to window resize event\n\tconst handler = () => {\n\t\tif ( submenu.classList.contains( 'is-open' ) ) {\n\t\t\tcallback();\n\t\t}\n\t};\n\twindow.addEventListener( 'resize', handler );\n\treturn {\n\t\tobserve: () => {},\n\t\tdisconnect: () => window.removeEventListener( 'resize', handler ),\n\t};\n};\n"],"names":["document","addEventListener","navBlocks","querySelectorAll","forEach","nav","elements","mobileNavIcon","querySelector","menuContainer","iconText","topBar","middleBar","bottomBar","isMobileMode","classList","contains","isAlwaysMode","closeAllSubmenus","openSubmenus","submenu","remove","submenuContainer","submenuButton","setAttribute","resetMenuState","innerText","resetArrowRotations","allArrows","arrow","handleResize","breakpoint","parseInt","dataset","dswpMobileBreakpoint","isMobileView","window","innerWidth","wasMobileView","style","display","toggle","adjustSubmenuPosition","level","getSubmenuLevel","left","right","rect","getBoundingClientRect","viewportWidth","parent","parentElement","initializeSubmenuLevel","add","isOpen","toString","event","isClickInside","target","key","submenuLinks","link","closest","hasSubmenu","arrowButton","createElement","className","parentNode","insertBefore","nextSibling","currentPath","push","openSubmenu","includes","container","button","resizeObserver","createObserver","observe","body","cleanup","disconnect","removeEventListener","callback","ResizeObserver","handler"],"sourceRoot":""}