{"version":3,"file":"Navigation/view.js","mappings":"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","sources":["webpack://mega-menu-nav/./src/Navigation/view.js"],"sourcesContent":["document.addEventListener(\"DOMContentLoaded\", function () {\n    const navBlocks = document.querySelectorAll('.dswp-block-navigation-is-mobile-overlay, .dswp-block-navigation-is-always-overlay');\n    \n    navBlocks.forEach(nav => {\n        const mobileNavIcon = nav.querySelector(\".dswp-nav-mobile-toggle-icon\");\n        const menuContainer = nav.querySelector(\".dswp-block-navigation__container\");\n        const isMobileMode = nav.classList.contains('dswp-block-navigation-is-mobile-overlay');\n        const isAlwaysMode = nav.classList.contains('dswp-block-navigation-is-always-overlay');\n        \n        function handleResize() {\n            if (!isMobileMode) return;\n            \n            const breakpoint = parseInt(getComputedStyle(nav).getPropertyValue('--mobile-breakpoint'));\n            const isMobileView = window.innerWidth <= (breakpoint || 768);\n            const wasMobileView = menuContainer.classList.contains('dswp-is-mobile');\n            \n            // If we're switching between mobile and desktop views\n            if (isMobileView !== wasMobileView) {\n                menuContainer.classList.toggle('dswp-is-mobile', isMobileView);\n                \n                // Close all open submenus\n                const openSubmenus = nav.querySelectorAll('.wp-block-navigation-submenu.is-open');\n                openSubmenus.forEach(submenu => {\n                    submenu.classList.remove('is-open');\n                    const submenuContainer = submenu.querySelector('.wp-block-navigation__submenu-container');\n                    const submenuButton = submenu.querySelector('.dswp-submenu-toggle');\n                    if (submenuContainer) {\n                        submenuContainer.classList.remove('is-open');\n                    }\n                    if (submenuButton) {\n                        submenuButton.setAttribute('aria-expanded', 'false');\n                    }\n                });\n\n                if (isMobileView) {\n                    mobileNavIcon.style.display = 'flex';\n                    if (!menuContainer.classList.contains('is-menu-open')) {\n                        menuContainer.style.display = 'none';\n                    }\n                } else {\n                    mobileNavIcon.style.display = 'none';\n                    menuContainer.style.display = 'flex';\n                    menuContainer.classList.remove('is-menu-open');\n                    resetMenuState();\n                }\n            }\n        }\n\n        function resetMenuState() {\n            const mobileNavIconText = nav.querySelector(\".dswp-nav-mobile-menu-icon-text\");\n            const mobileNavTopBar = nav.querySelector(\".dswp-nav-mobile-menu-top-bar\");\n            const mobileNavMiddleBar = nav.querySelector(\".dswp-nav-mobile-menu-middle-bar\");\n            const mobileNavBottomBar = nav.querySelector(\".dswp-nav-mobile-menu-bottom-bar\");\n\n            if (mobileNavIconText) mobileNavIconText.innerText = \"Menu\";\n            if (mobileNavTopBar) mobileNavTopBar.classList.remove(\"dswp-nav-mobile-menu-top-bar-open\");\n            if (mobileNavMiddleBar) mobileNavMiddleBar.classList.remove(\"dswp-nav-mobile-menu-middle-bar-open\");\n            if (mobileNavBottomBar) mobileNavBottomBar.classList.remove(\"dswp-nav-mobile-menu-bottom-bar-open\");\n            \n            mobileNavIcon.setAttribute('aria-expanded', 'false');\n        }\n\n        // Set initial states\n        if (isAlwaysMode) {\n            mobileNavIcon.style.display = 'flex';\n            menuContainer.style.display = 'none';\n            menuContainer.classList.add('dswp-is-mobile');\n        } else if (isMobileMode) {\n            handleResize();\n        }\n\n        // Listen for window resize only in mobile mode\n        if (isMobileMode) {\n            window.addEventListener('resize', handleResize);\n        }\n\n        // Mobile menu toggle functionality\n        if (mobileNavIcon) {\n            mobileNavIcon.addEventListener(\"click\", function () {\n                const mobileNavIconText = nav.querySelector(\".dswp-nav-mobile-menu-icon-text\");\n                const mobileNavTopBar = nav.querySelector(\".dswp-nav-mobile-menu-top-bar\");\n                const mobileNavMiddleBar = nav.querySelector(\".dswp-nav-mobile-menu-middle-bar\");\n                const mobileNavBottomBar = nav.querySelector(\".dswp-nav-mobile-menu-bottom-bar\");\n\n                // Toggle menu visibility\n                menuContainer.classList.toggle('is-menu-open');\n                const isOpen = menuContainer.classList.contains('is-menu-open');\n                \n                // Update ARIA state\n                mobileNavIcon.setAttribute('aria-expanded', isOpen.toString());\n                \n                // Toggle hamburger animation\n                mobileNavTopBar.classList.toggle(\"dswp-nav-mobile-menu-top-bar-open\");\n                mobileNavMiddleBar.classList.toggle(\"dswp-nav-mobile-menu-middle-bar-open\");\n                if (mobileNavBottomBar) {\n                    mobileNavBottomBar.classList.toggle(\"dswp-nav-mobile-menu-bottom-bar-open\");\n                }\n\n                // Update menu text\n                mobileNavIconText.innerText = isOpen ? \"Close menu\" : \"Menu\";\n                \n                // Show/hide menu\n                menuContainer.style.display = isOpen ? 'grid' : 'none';\n\n                // Close all open submenus when closing the mobile menu\n                if (!isOpen) {\n                    const openSubmenus = nav.querySelectorAll('.wp-block-navigation-submenu.is-open');\n                    openSubmenus.forEach(submenu => {\n                        submenu.classList.remove('is-open');\n                        const submenuContainer = submenu.querySelector('.wp-block-navigation__submenu-container');\n                        const submenuButton = submenu.querySelector('.dswp-submenu-toggle');\n                        if (submenuContainer) {\n                            submenuContainer.classList.remove('is-open');\n                        }\n                        if (submenuButton) {\n                            submenuButton.setAttribute('aria-expanded', 'false');\n                        }\n                    });\n                }\n            });\n        }\n\n        // Close menu when clicking outside\n        document.addEventListener('click', function(event) {\n            const isClickInside = nav.contains(event.target);\n                \n            if (!isClickInside) {\n                if (menuContainer.classList.contains('is-menu-open')) {\n                    menuContainer.classList.remove('is-menu-open');\n                    menuContainer.style.display = 'none';\n                    resetMenuState();\n                }\n                \n                // Close all open submenus\n                const openSubmenus = nav.querySelectorAll('.wp-block-navigation-submenu.is-open');\n                openSubmenus.forEach(submenu => {\n                    submenu.classList.remove('is-open');\n                    const submenuContainer = submenu.querySelector('.wp-block-navigation__submenu-container');\n                    const submenuButton = submenu.querySelector('.dswp-submenu-toggle');\n                    if (submenuContainer) {\n                        submenuContainer.classList.remove('is-open');\n                    }\n                    if (submenuButton) {\n                        submenuButton.setAttribute('aria-expanded', 'false');\n                    }\n                });\n            }\n        });\n\n        // Handle escape key for mobile menu //! Need to add functionality for desktop as well\n        document.addEventListener('keydown', function(event) {\n            if (event.key === 'Escape' && menuContainer.classList.contains('is-menu-open')) {\n                menuContainer.classList.remove('is-menu-open');\n                menuContainer.style.display = 'none';\n                resetMenuState();\n            }\n        });\n\n        // Add submenu click handlers\n        const submenuLinks = nav.querySelectorAll('.wp-block-navigation-submenu > .wp-block-navigation-item__content');\n        \n        submenuLinks.forEach(link => {\n            // Only create button if parent has submenu\n            const submenu = link.closest('.wp-block-navigation-submenu');\n            const hasSubmenu = submenu?.querySelector('.wp-block-navigation__submenu-container');\n            \n            if (hasSubmenu) {\n                // Create a button for the arrow\n                const arrowButton = document.createElement('button');\n                arrowButton.className = 'dswp-submenu-toggle';\n                arrowButton.setAttribute('aria-expanded', 'false');\n                arrowButton.setAttribute('aria-label', 'Toggle submenu');\n                \n                // Insert the button after the link text\n                link.parentNode.insertBefore(arrowButton, link.nextSibling);\n                \n                // Move click handler to the arrow button\n                arrowButton.addEventListener('click', e => {\n                    e.preventDefault();\n                    e.stopPropagation();\n                    \n                    const submenuContainer = submenu.querySelector('.wp-block-navigation__submenu-container');\n                    const isOpen = submenu.classList.contains('is-open');\n                    \n                    // First, close all open submenus except the current submenu's ancestors\n                    const allOpenSubmenus = nav.querySelectorAll('.wp-block-navigation-submenu.is-open');\n                    const currentPath = [];\n                    let parent = submenu;\n                    while (parent) {\n                        if (parent.classList.contains('wp-block-navigation-submenu')) {\n                            currentPath.push(parent);\n                        }\n                        parent = parent.parentElement.closest('.wp-block-navigation-submenu');\n                    }\n\n                    allOpenSubmenus.forEach(openSubmenu => {\n                        if (!currentPath.includes(openSubmenu)) {\n                            openSubmenu.classList.remove('is-open');\n                            const container = openSubmenu.querySelector('.wp-block-navigation__submenu-container');\n                            const button = openSubmenu.querySelector('.dswp-submenu-toggle');\n                            if (container) {\n                                container.classList.remove('is-open');\n                            }\n                            if (button) {\n                                button.setAttribute('aria-expanded', 'false');\n                            }\n                        }\n                    });\n\n                    // Toggle current submenu\n                    submenu.classList.toggle('is-open');\n                    if (submenuContainer) {\n                        submenuContainer.classList.toggle('is-open');\n                        \n                        // Add position adjustment for level 3+ submenus\n                        const level = getSubmenuLevel(submenu);\n                        if (level >= 3) {\n                            adjustSubmenuPosition(submenu);\n                            \n                            const resizeObserver = new ResizeObserver(() => {\n                                if (submenu.classList.contains('is-open')) {\n                                    adjustSubmenuPosition(submenu);\n                                }\n                            });\n                            \n                            resizeObserver.observe(submenu);\n                            resizeObserver.observe(document.body);\n                            \n                            const cleanup = () => {\n                                if (!submenu.classList.contains('is-open')) {\n                                    resizeObserver.disconnect();\n                                    submenu.removeEventListener('classChange', cleanup);\n                                }\n                            };\n                            \n                            submenu.addEventListener('classChange', cleanup);\n                        }\n                    }\n                    \n                    // Update ARIA state\n                    arrowButton.setAttribute('aria-expanded', (!isOpen).toString());\n                });\n            }\n        });\n\n        // Add this after the submenu click handlers\n        document.addEventListener('click', function(event) {\n            // Check if click is outside the navigation\n            const isClickInsideNav = nav.contains(event.target);\n            \n            if (!isClickInsideNav) {\n                // Close all open submenus\n                const openSubmenus = nav.querySelectorAll('.wp-block-navigation-submenu.is-open');\n                openSubmenus.forEach(submenu => {\n                    submenu.classList.remove('is-open');\n                    const submenuContainer = submenu.querySelector('.wp-block-navigation__submenu-container');\n                    if (submenuContainer) {\n                        submenuContainer.classList.remove('is-open');\n                    }\n                });\n            }\n        });\n\n        // Add keyboard navigation for submenus\n        document.addEventListener('keydown', function(event) {\n            const activeElement = document.activeElement;\n            \n            if (event.key === 'Escape') {\n                // Close all open submenus\n                const openSubmenus = nav.querySelectorAll('.wp-block-navigation-submenu.is-open');\n                openSubmenus.forEach(submenu => {\n                    submenu.classList.remove('is-open');\n                    const submenuContainer = submenu.querySelector('.wp-block-navigation__submenu-container');\n                    if (submenuContainer) {\n                        submenuContainer.classList.remove('is-open');\n                    }\n                });\n                // Reset all arrow rotations\n                resetArrowRotations(nav);\n            }\n            \n            // Handle arrow keys for submenu navigation\n            if (activeElement.classList.contains('wp-block-navigation-item__content') || \n                activeElement.classList.contains('dswp-submenu-toggle')) {\n                \n                const submenu = activeElement.closest('.wp-block-navigation-submenu');\n                const submenuContainer = submenu?.querySelector('.wp-block-navigation__submenu-container');\n                \n                switch(event.key) {\n                    case 'Enter':\n                    case ' ':\n                        if (activeElement.classList.contains('dswp-submenu-toggle')) {\n                            event.preventDefault();\n                            activeElement.click();\n                        }\n                        break;\n                        \n                    case 'Escape':\n                        if (submenu?.classList.contains('is-open')) {\n                            event.preventDefault();\n                            const toggleButton = submenu.querySelector('.dswp-submenu-toggle');\n                            toggleButton?.click();\n                            toggleButton?.focus();\n                        }\n                        break;\n                }\n            }\n        });\n    });\n});\n\nfunction adjustSubmenuPosition(submenu) {\n    const submenuContainer = submenu.querySelector('.wp-block-navigation__submenu-container');\n    if (!submenuContainer) return;\n\n    // Reset position first\n    submenuContainer.style.left = '100%';\n    submenuContainer.style.right = 'auto';\n\n    // Get updated position after reset\n    const rect = submenuContainer.getBoundingClientRect();\n    const viewportWidth = window.innerWidth;\n    \n    // Check if submenu extends beyond right edge\n    if (rect.right > viewportWidth) {\n        submenuContainer.style.left = 'auto';\n        submenuContainer.style.right = '100%';\n    }\n}\n\n// Add this helper function\nfunction getSubmenuLevel(submenu) {\n  let level = 1;\n  let parent = submenu.parentElement;\n  while (parent) {\n    if (parent.classList.contains('wp-block-navigation-submenu')) {\n      level++;\n    }\n    parent = parent.parentElement;\n  }\n  return level;\n}\n\nfunction resetArrowRotations(nav) {\n    const allArrows = nav.querySelectorAll('.dswp-submenu-toggle');\n    allArrows.forEach(arrow => {\n        arrow.setAttribute('aria-expanded', 'false');\n    });\n}"],"names":["document","addEventListener","navBlocks","querySelectorAll","forEach","nav","mobileNavIcon","querySelector","menuContainer","isMobileMode","classList","contains","isAlwaysMode","handleResize","breakpoint","parseInt","getComputedStyle","getPropertyValue","isMobileView","window","innerWidth","wasMobileView","toggle","openSubmenus","submenu","remove","submenuContainer","submenuButton","setAttribute","style","display","resetMenuState","mobileNavIconText","mobileNavTopBar","mobileNavMiddleBar","mobileNavBottomBar","innerText","add","isOpen","toString","event","isClickInside","target","key","submenuLinks","link","closest","hasSubmenu","arrowButton","createElement","className","parentNode","insertBefore","nextSibling","e","preventDefault","stopPropagation","allOpenSubmenus","currentPath","parent","push","parentElement","openSubmenu","includes","container","button","level","getSubmenuLevel","adjustSubmenuPosition","resizeObserver","ResizeObserver","observe","body","cleanup","disconnect","removeEventListener","isClickInsideNav","activeElement","resetArrowRotations","click","toggleButton","focus","left","right","rect","getBoundingClientRect","viewportWidth","allArrows","arrow"],"sourceRoot":""}