(()=>{function e(e){const n=e.querySelector(".wp-block-navigation__submenu-container");if(!n)return;n.style.left="100%",n.style.right="auto";const s=n.getBoundingClientRect(),t=window.innerWidth;s.right>t&&(n.style.left="auto",n.style.right="100%")}document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".dswp-block-navigation-is-mobile-overlay, .dswp-block-navigation-is-always-overlay").forEach((n=>{const s=n.querySelector(".dswp-nav-mobile-toggle-icon"),t=n.querySelector(".dswp-block-navigation__container"),o=n.classList.contains("dswp-block-navigation-is-mobile-overlay");function i(){if(!o)return;const e=parseInt(getComputedStyle(n).getPropertyValue("--mobile-breakpoint")),i=window.innerWidth<=(e||768);i!==t.classList.contains("dswp-is-mobile")&&(n.querySelectorAll(".wp-block-navigation-submenu.is-open").forEach((e=>{e.classList.remove("is-open");const n=e.querySelector(".wp-block-navigation__submenu-container"),s=e.querySelector(".dswp-submenu-toggle");n&&n.classList.remove("is-open"),s&&s.setAttribute("aria-expanded","false")})),i||(t.classList.remove("is-menu-open"),t.style.display="flex",a())),i?(s.style.display="flex",t.classList.add("dswp-is-mobile"),t.classList.contains("is-menu-open")||(t.style.display="none")):(s.style.display="none",t.classList.remove("dswp-is-mobile"),t.style.display="flex")}function a(){const e=n.querySelector(".dswp-nav-mobile-menu-icon-text"),t=n.querySelector(".dswp-nav-mobile-menu-top-bar"),o=n.querySelector(".dswp-nav-mobile-menu-middle-bar"),i=n.querySelector(".dswp-nav-mobile-menu-bottom-bar");e&&(e.innerText="Menu"),t&&t.classList.remove("dswp-nav-mobile-menu-top-bar-open"),o&&o.classList.remove("dswp-nav-mobile-menu-middle-bar-open"),i&&i.classList.remove("dswp-nav-mobile-menu-bottom-bar-open"),s.setAttribute("aria-expanded","false")}n.classList.contains("dswp-block-navigation-is-always-overlay")||n.classList.contains("dswp-block-navigation-is-mobile-only")?(s.style.display="flex",t.style.display="none",t.classList.add("dswp-is-mobile")):o&&i(),o&&window.addEventListener("resize",i),s&&s.addEventListener("click",(function(){const e=n.querySelector(".dswp-nav-mobile-menu-icon-text"),o=n.querySelector(".dswp-nav-mobile-menu-top-bar"),i=n.querySelector(".dswp-nav-mobile-menu-middle-bar"),a=n.querySelector(".dswp-nav-mobile-menu-bottom-bar");t.classList.toggle("is-menu-open");const l=t.classList.contains("is-menu-open");s.setAttribute("aria-expanded",l.toString()),o.classList.toggle("dswp-nav-mobile-menu-top-bar-open"),i.classList.toggle("dswp-nav-mobile-menu-middle-bar-open"),a&&a.classList.toggle("dswp-nav-mobile-menu-bottom-bar-open"),e.innerText=l?"Close menu":"Menu",t.style.display=l?"grid":"none",l||n.querySelectorAll(".wp-block-navigation-submenu.is-open").forEach((e=>{e.classList.remove("is-open");const n=e.querySelector(".wp-block-navigation__submenu-container"),s=e.querySelector(".dswp-submenu-toggle");n&&n.classList.remove("is-open"),s&&s.setAttribute("aria-expanded","false")}))})),document.addEventListener("click",(function(e){n.contains(e.target)||(t.classList.contains("is-menu-open")&&(t.classList.remove("is-menu-open"),t.style.display="none",a()),n.querySelectorAll(".wp-block-navigation-submenu.is-open").forEach((e=>{e.classList.remove("is-open");const n=e.querySelector(".wp-block-navigation__submenu-container"),s=e.querySelector(".dswp-submenu-toggle");n&&n.classList.remove("is-open"),s&&s.setAttribute("aria-expanded","false")})))})),document.addEventListener("keydown",(function(e){"Escape"===e.key&&t.classList.contains("is-menu-open")&&(t.classList.remove("is-menu-open"),t.style.display="none",a())})),n.querySelectorAll(".wp-block-navigation-submenu > .wp-block-navigation-item__content").forEach((s=>{const t=s.closest(".wp-block-navigation-submenu"),o=t?.querySelector(".wp-block-navigation__submenu-container");if(o){const o=document.createElement("button");o.className="dswp-submenu-toggle",o.setAttribute("aria-expanded","false"),o.setAttribute("aria-label","Toggle submenu"),s.parentNode.insertBefore(o,s.nextSibling),o.addEventListener("click",(s=>{s.preventDefault(),s.stopPropagation();const i=t.querySelector(".wp-block-navigation__submenu-container"),a=t.classList.contains("is-open"),l=n.querySelectorAll(".wp-block-navigation-submenu.is-open"),c=[];let r=t;for(;r;)r.classList.contains("wp-block-navigation-submenu")&&c.push(r),r=r.parentElement.closest(".wp-block-navigation-submenu");if(l.forEach((e=>{if(!c.includes(e)){e.classList.remove("is-open");const n=e.querySelector(".wp-block-navigation__submenu-container"),s=e.querySelector(".dswp-submenu-toggle");n&&n.classList.remove("is-open"),s&&s.setAttribute("aria-expanded","false")}})),t.classList.toggle("is-open"),i){i.classList.toggle("is-open");const n=function(e){let n=1,s=e.parentElement;for(;s;)s.classList.contains("wp-block-navigation-submenu")&&n++,s=s.parentElement;return n}(t);if(n>=3){e(t);const n=new ResizeObserver((()=>{t.classList.contains("is-open")&&e(t)}));n.observe(t),n.observe(document.body);const s=()=>{t.classList.contains("is-open")||(n.disconnect(),t.removeEventListener("classChange",s))};t.addEventListener("classChange",s)}}o.setAttribute("aria-expanded",(!a).toString())}))}})),document.addEventListener("click",(function(e){n.contains(e.target)||n.querySelectorAll(".wp-block-navigation-submenu.is-open").forEach((e=>{e.classList.remove("is-open");const n=e.querySelector(".wp-block-navigation__submenu-container");n&&n.classList.remove("is-open")}))})),document.addEventListener("keydown",(function(e){const s=document.activeElement;if("Escape"===e.key&&(n.querySelectorAll(".wp-block-navigation-submenu.is-open").forEach((e=>{e.classList.remove("is-open");const n=e.querySelector(".wp-block-navigation__submenu-container");n&&n.classList.remove("is-open")})),function(e){e.querySelectorAll(".dswp-submenu-toggle").forEach((e=>{e.setAttribute("aria-expanded","false")}))}(n)),s.classList.contains("wp-block-navigation-item__content")||s.classList.contains("dswp-submenu-toggle")){const n=s.closest(".wp-block-navigation-submenu");switch(n?.querySelector(".wp-block-navigation__submenu-container"),e.key){case"Enter":case" ":s.classList.contains("dswp-submenu-toggle")&&(e.preventDefault(),s.click());break;case"Escape":if(n?.classList.contains("is-open")){e.preventDefault();const s=n.querySelector(".dswp-submenu-toggle");s?.click(),s?.focus()}}}}))}))}))})();