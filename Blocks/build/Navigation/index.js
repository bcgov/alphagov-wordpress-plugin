(()=>{"use strict";var e,n={710:()=>{const e=window.wp.blocks,n=window.wp.components,t=window.wp.i18n,s=window.wp.element,r=window.wp.data,a=window.wp.blockEditor,o=window.wp.coreData,i=window.ReactJSXRuntime;function l(){return(0,i.jsxs)("button",{className:"dswp-nav-mobile-toggle-icon","aria-label":"Toggle menu","aria-expanded":"false",children:[(0,i.jsx)("span",{className:"dswp-nav-mobile-menu-icon-text",children:"Menu"}),(0,i.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:[(0,i.jsx)("path",{className:"dswp-nav-mobile-bar dswp-nav-mobile-menu-top-bar",d:"M3,6h13",strokeWidth:"1",stroke:"currentColor"}),(0,i.jsx)("path",{className:"dswp-nav-mobile-bar dswp-nav-mobile-menu-middle-bar",d:"M3,12h13",strokeWidth:"1",stroke:"currentColor"}),(0,i.jsx)("path",{className:"dswp-nav-mobile-bar dswp-nav-mobile-menu-bottom-bar",d:"M3,18h13",strokeWidth:"1",stroke:"currentColor"})]})]})}const c=["core/navigation-link","core/navigation-submenu","core/spacer"],u=[["core/navigation-link",{label:(0,t.__)("Add link","dswp"),url:"#"}]],p=JSON.parse('{"UU":"custom/navigation"}');(0,e.registerBlockType)(p.UU,{edit:function({attributes:p,setAttributes:d,clientId:v}){const{overlayMenu:b,menuId:w,mobileBreakpoint:m}=p,g=(0,r.useRegistry)(),h=(0,s.useRef)(!0),k=(0,s.useRef)(null),_=(0,s.useRef)(null),{replaceInnerBlocks:y}=(0,r.useDispatch)(a.store),{editEntityRecord:x,saveEditedEntityRecord:f}=(0,r.useDispatch)(o.store),{currentBlocks:j,menus:B,selectedMenu:C,isLoading:M,isCurrentPostSaving:N}=(0,r.useSelect)((e=>{const{getBlocks:n}=e(a.store),{getEditedEntityRecord:t,isSavingEntityRecord:s}=e(o.store),{getEntityRecords:r}=e(o.store),i=r("postType","wp_navigation",{per_page:-1,status:"publish"}),l=w?t("postType","wp_navigation",w):null;return{currentBlocks:n(v),menus:i,selectedMenu:l,isLoading:null===r("postType","wp_navigation",{per_page:-1}),isCurrentPostSaving:s("postType","wp_navigation",w)}}),[v,w]),E=(0,s.useCallback)((n=>n.map((n=>"core/navigation-link"===n.name?(0,e.createBlock)("core/navigation-link",n.attributes):"core/navigation-submenu"===n.name?(0,e.createBlock)("core/navigation-submenu",n.attributes,E(n.innerBlocks)):n))),[]),P=(0,a.useBlockProps)({className:`dswp-block-navigation-is-${b}-overlay`,"data-dswp-mobile-breakpoint":m}),R=(0,a.useInnerBlocksProps)({className:"dswp-block-navigation__container"},{allowedBlocks:c,template:u,templateLock:!1,renderAppender:!1});(0,s.useEffect)((()=>{if(C?.content&&h.current){const n=(0,e.parse)(C.content);k.current=(0,e.serialize)(n),_.current=k.current,g.dispatch(a.store).__unstableMarkNextChangeAsNotPersistent()}}),[C,g]),(0,s.useEffect)((()=>{!h.current&&j&&(0,e.serialize)(j)===k.current&&g.dispatch(a.store).__unstableMarkNextChangeAsNotPersistent()}),[j,g]),(0,s.useEffect)((()=>{if(!N||!w||!j)return;const n=(0,e.serialize)(j);n===_.current||h.current&&n===k.current||(_.current=n,(async()=>{try{await x("postType","wp_navigation",w,{content:n,status:"publish"}),await f("postType","wp_navigation",w)}catch(e){throw new Error("Failed to update navigation menu:",e)}})())}),[N,w,j,x,f]),(0,s.useEffect)((()=>{if(!C||!C.content)return g.dispatch(a.store).__unstableMarkNextChangeAsNotPersistent(),y(v,[]),_.current=(0,e.serialize)([]),void(h.current=!1);const n=(0,e.parse)(C.content),t=E(n);g.dispatch(a.store).__unstableMarkNextChangeAsNotPersistent(),y(v,t),h.current&&(_.current=(0,e.serialize)(t),k.current=_.current,h.current=!1,g.dispatch(a.store).__unstableMarkNextChangeAsNotPersistent())}),[C,g,v,E,y]);const S=(0,s.useMemo)((()=>B?.length?[{label:(0,t.__)("Select a menu","dswp"),value:""},...B.map((e=>({label:e.title.rendered,value:e.id})))]:[{label:(0,t.__)("Select a menu","dswp"),value:""}]),[B]);return M?(0,i.jsx)("div",{...P,children:(0,i.jsx)(n.Spinner,{})}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.InspectorControls,{children:(0,i.jsxs)(n.PanelBody,{title:(0,t.__)("Menu Settings","dswp"),children:[(0,i.jsx)(n.SelectControl,{label:(0,t.__)("Select Menu","dswp"),value:w||"",options:S,onChange:e=>d({menuId:e?parseInt(e,10):null})}),(0,i.jsxs)(n.ButtonGroup,{children:[(0,i.jsx)(n.Button,{variant:"never"===b?"primary":"secondary",onClick:()=>d({overlayMenu:"never"}),children:(0,t.__)("Never","dswp")}),(0,i.jsx)(n.Button,{variant:"mobile"===b?"primary":"secondary",onClick:()=>d({overlayMenu:"mobile"}),children:(0,t.__)("Mobile","dswp")}),(0,i.jsx)(n.Button,{variant:"always"===b?"primary":"secondary",onClick:()=>d({overlayMenu:"always"}),children:(0,t.__)("Always","dswp")})]}),"never"!==b&&(0,i.jsx)(n.RangeControl,{label:(0,t.__)("Mobile Breakpoint (in pixels)","dswp"),value:m,onChange:e=>d({mobileBreakpoint:e}),min:320,max:1920})]})}),(0,i.jsxs)("nav",{...P,children:[(0,i.jsx)(l,{}),(0,i.jsx)("div",{...R})]})]})},save:function({attributes:e}){const{overlayMenu:n,mobileBreakpoint:t}=e,s=a.useBlockProps.save({className:`dswp-block-navigation-is-${n}-overlay`,"data-dswp-mobile-breakpoint":t}),r=a.useInnerBlocksProps.save({className:"dswp-block-navigation__container"});return(0,i.jsxs)("nav",{...s,children:[(0,i.jsx)(l,{}),(0,i.jsx)("div",{...r})]})}})}},t={};function s(e){var r=t[e];if(void 0!==r)return r.exports;var a=t[e]={exports:{}};return n[e](a,a.exports,s),a.exports}s.m=n,e=[],s.O=(n,t,r,a)=>{if(!t){var o=1/0;for(u=0;u<e.length;u++){for(var[t,r,a]=e[u],i=!0,l=0;l<t.length;l++)(!1&a||o>=a)&&Object.keys(s.O).every((e=>s.O[e](t[l])))?t.splice(l--,1):(i=!1,a<o&&(o=a));if(i){e.splice(u--,1);var c=r();void 0!==c&&(n=c)}}return n}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[t,r,a]},s.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e={160:0,256:0};s.O.j=n=>0===e[n];var n=(n,t)=>{var r,a,[o,i,l]=t,c=0;if(o.some((n=>0!==e[n]))){for(r in i)s.o(i,r)&&(s.m[r]=i[r]);if(l)var u=l(s)}for(n&&n(t);c<o.length;c++)a=o[c],s.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return s.O(u)},t=globalThis.webpackChunkdesign_system_navigation_block=globalThis.webpackChunkdesign_system_navigation_block||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))})();var r=s.O(void 0,[256],(()=>s(710)));r=s.O(r)})();